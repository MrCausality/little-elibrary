{% extends "main.html" %}
{% block content %}
{% include "header.html" %}
	<div class="row divider green">
		<div class="col-md-12"></div>
	</div>
	<div class="row banner main">
		<div class="col-md-11 col-md-offset-1 padding-none">
			<h1>{{ user.name }}'s Collection
			</h1>

		</div>
	</div>

<div class = 'flash'>
		      {% with messages = get_flashed_messages() %}
      {% if messages %}
          
        <ul>
        {% for message in messages %}
            <li> <strong> {{ message }} </strong> </li>
        {% endfor %}
        </ul>
        {% endif %}
    {% endwith %}

</div>
	<div class="row padding-top padding-bottom">
		<div class="col-md-1"></div>
		<div class="col-md-11 padding-none">
			<a href="{{url_for('editUser', user_id = user.id )}}">
				<button class="btn btn-default" id="new-user-book">
					<span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>Edit User
				</button>
			</a>
			<a href="{{url_for('newUserBook', user_id = user.id )}}">
				<button class="btn btn-default" id="new-user-book">
					<span class="glyphicon glyphicon-plus" aria-hidden="true"></span>Add Book
				</button>
			</a>
						<a href="{{url_for('deleteUser', user_id = user.id )}}">
				<button class="btn btn-default delete" id="delete-user">
					<span class="glyphicon glyphicon-trash" aria-hidden="true"></span>Delete User
				</button>
			</a>
		</div>
		<div class="col-md-7"></div>
	</div>
	
	{% if books !=[] %}

			<div class="col-md-1"></div>
			<div class="row">
				<h2>Unread</h2>
					{% for b in books %}
						{% if b.status == 'Unread' %}
							<div class="user-book">
								<h3>{{b.title}}</h3>
								<p>{{b.description}}</p>
								<p>Notes: {{b.notes}}</p>
								<p class="book-author">{{b.author}}</p>
								<a href='{{url_for('editUserBook', user_id = user.id, book_id=b.id ) }}'>Edit</a> | 
								<a href='{{url_for('deleteUserBook', user_id = user.id, book_id=b.id ) }}'>Delete</a>
							</div>
						{% endif %}
					{% endfor %}
			</div>
			<br>
			<div class="row">
				<h2>In Progress</h2>
					{% for b in books %}
						{% if b.status == 'In Progress' %}
						<div class="user-book">
							<h3>{{b.title}}</h3>
							<p class="book-author">Author: {{b.author}}</p>
							<p>Description: {{b.description}}</p>
							<p>Notes: {{b.notes}}</p>
							<a href='{{url_for('editUserBook', user_id = user.id, book_id=b.id ) }}'>Edit</a> | 
							<a href='{{url_for('deleteUserBook', user_id = user.id, book_id=b.id ) }}'>Delete</a>
						</div>
						{% endif %}
					{% endfor %}
			</div>
			<br>
			<div class="row">
				<h2>Read</h2>
					{% for b in books %}
						{% if b.status == 'Read' %}
						<div class="user-book">
							<h3>{{b.title}}</h3>
							<p>{{b.description}}</p>
							<p>Notes: {{b.notes}}</p>
							<p class="book-author">{{b.author}}</p>
							<a href='{{url_for('editUserBook', user_id = user.id, book_id=b.id ) }}'>Edit</a> | 
							<a href='{{url_for('deleteUserBook', user_id = user.id, book_id=b.id ) }}'>Delete</a>
						</div>
						{% endif %}
					{% endfor %}
			</div>
			<div class="row">
				<h2>Abandoned</h2>
					{% for b in books %}
						{% if b.status == 'Abandoned' %}
						<div class="user-book">
							<h3>{{b.title}}</h3>
							<p>{{b.description}}</p>
							<p>Notes: {{b.notes}}</p>
							<p class="book-author">{{b.author}}</p>
							<a href='{{url_for('editUserBook', user_id = user.id, book_id=b.id ) }}'>Edit</a> | 
							<a href='{{url_for('deleteUserBook', user_id = user.id, book_id=b.id ) }}'>Delete</a>
						</div>
						{% endif %}
					{% endfor %}
			</div>

	{% endif %}
{% endblock %}
